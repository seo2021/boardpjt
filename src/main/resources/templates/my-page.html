<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- 문서 인코딩 설정 -->
    <meta charset="UTF-8">
    <!-- 반응형 웹 설정 -->
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <!-- Internet Explorer 호환성 설정 -->
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- 페이지 제목 -->
    <title>StudyLog - 마이페이지</title>

    <!-- 스타일시트 -->
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <!-- Font Awesome 아이콘 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- 헤더 -->
    <div th:replace="~{fragments/header :: header}"></div>

    <!-- 메인 콘텐츠 -->
    <main class="main-content">
        <div class="mypage-container">
            <!-- 환영 섹션 -->
            <div class="welcome-section">
                <div class="welcome-header">
                    <div class="user-avatar">
                        <i class="fas fa-user-circle"></i>
                    </div>
                    <div class="welcome-info">
                        <h1 class="welcome-title">
                            환영합니다!
                            <span class="username" th:text="${username ?: '알 수 없는 사용자'}">사용자</span>님
                        </h1>
<!--                        <div class="user-role">
                            <i class="fas fa-shield-alt"></i>
                            <span class="role-text">
                                당신은
                                <span class="role-badge" th:text="${role == 'ROLE_ADMIN' ? '관리자' : '일반 사용자'}" th:classappend="${role == 'ROLE_ADMIN' ? 'admin' : 'user'}">
                                    일반 사용자
                                </span>
                                입니다!
                            </span>
                        </div>-->
                    </div>
                </div>
            </div>

            <!-- 대시보드 카드 섹션 -->
            <div class="dashboard-grid">
                <!-- 학습 통계 카드 -->
                <div class="dashboard-card stats-card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-chart-line"></i>
                            학습 통계
                        </h3>
                    </div>
                    <div class="card-content">
                        <div class="dashboard-stat-item">
                            <div class="stat-number">24</div>
                            <div class="stat-label">작성한 글</div>
                        </div>
                        <div class="dashboard-stat-item">
                            <div class="stat-number">156</div>
                            <div class="stat-label">학습 시간</div>
                        </div>
                        <div class="dashboard-stat-item">
                            <div class="stat-number">8</div>
                            <div class="stat-label">완료한 목표</div>
                        </div>
                    </div>
                </div>

                <!-- 최근 활동 카드 -->
                <div class="dashboard-card activity-card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-clock"></i>
                            최근 활동
                        </h3>
                    </div>
                    <div class="card-content">
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-edit"></i>
                            </div>
                            <div class="activity-info">
                                <div class="activity-title">새 글 작성</div>
                                <div class="activity-time">2시간 전</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="activity-info">
                                <div class="activity-title">목표 달성</div>
                                <div class="activity-time">1일 전</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-comment"></i>
                            </div>
                            <div class="activity-info">
                                <div class="activity-title">댓글 작성</div>
                                <div class="activity-time">3일 전</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 빠른 액션 카드 -->
                <div class="dashboard-card actions-card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-rocket"></i>
                            빠른 액션
                        </h3>
                    </div>
                    <div class="card-content">
                        <div class="action-grid">
                            <a href="/posts/new" class="action-btn">
                                <i class="fas fa-pen"></i>
                                새 글 작성
                            </a>
                            <a href="/posts" class="action-btn">
                                <i class="fas fa-list"></i>
                                내 글 보기
                            </a>
                            <a href="/profile/edit" class="action-btn">
                                <i class="fas fa-user-edit"></i>
                                프로필 수정
                            </a>
                            <a href="/settings" class="action-btn">
                                <i class="fas fa-cog"></i>
                                설정
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 관리자 전용 섹션 -->
            <div th:if="${role == 'ROLE_ADMIN'}" class="admin-section">
                <div class="admin-card">
                    <div class="card-header admin-header">
                        <h3 class="card-title">
                            <i class="fas fa-crown"></i>
                            관리자 전용 메뉴
                        </h3>
                    </div>
                    <div class="card-content">
                        <p class="admin-description">관리자 권한으로 시스템을 관리할 수 있습니다.</p>
                        <div class="admin-actions">
                            <a th:href="@{/admin}" class="admin-btn">
                                <i class="fas fa-tools"></i>
                                관리자 페이지로 이동
                            </a>
                            <a href="/admin/users" class="admin-btn">
                                <i class="fas fa-users"></i>
                                사용자 관리
                            </a>
                            <a href="/admin/posts" class="admin-btn">
                                <i class="fas fa-file-alt"></i>
                                게시글 관리
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 계정 관리 섹션 -->
            <div class="account-section">
                <div class="account-card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="fas fa-user-shield"></i>
                            계정 관리
                        </h3>
                    </div>
                    <div class="card-content">
                        <div class="account-actions">
                            <a th:href="@{/}" class="nav-btn home-btn">
                                <i class="fas fa-home"></i>
                                메인 페이지로 이동
                            </a>

                            <form th:action="@{/auth/logout}" method="post" class="logout-form" id="logoutForm">
                                <button type="submit" class="nav-btn logout-btn" id="logoutBtn">
                                    <i class="fas fa-sign-out-alt"></i>
                                    로그아웃
                                </button>
                            </form>
                        </div>

                        <div class="account-info">
                            <div class="info-item">
                                <span class="info-label">로그인 상태:</span>
                                <span class="info-value online">온라인</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">마지막 접속:</span>
                                <span class="info-value">방금 전</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 푸터 -->
    <div th:replace="~{fragments/footer :: footer}"></div>

    <!-- JavaScript -->
    <script>

    </script>



</body>
</html>

